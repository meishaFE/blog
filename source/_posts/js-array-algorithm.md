---
title: jsä¸­å…³äºæ•°ç»„çš„ç®—æ³•é—®é¢˜
date: 2019-03-17 21:00:00
author: Echo
tags:
  - Function
  - JavaScript
  - Algorithm
---

åœ¨æ—¥å¸¸å¼€å‘è¿‡ç¨‹ä¸­ï¼Œå…³äºæ•°ç»„çš„ç®—æ³•é—®é¢˜æ˜¯æˆ‘ä»¬æœ€å¸¸é‡åˆ°çš„ï¼Œæœ€è¿‘è§£å†³äº†å‡ ä¸ªæˆ‘è§‰å¾—æ¯”è¾ƒæœ‰ä»£è¡¨æ€§çš„æ•°ç»„ç®—æ³•é—®é¢˜ï¼Œåœ¨è¿™é‡Œåˆ†äº«ä¸€ä¸‹è§£å†³æ€è·¯

<!-- more -->

## é—®é¢˜ä¸€ï¼šä¸¤ä¸ªæ•°ç»„çš„äº¤é›†

ç»™å®šä¸¤ä¸ªæ•°ç»„ï¼Œç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥è®¡ç®—å®ƒä»¬çš„äº¤é›†ã€‚

- ç¤ºä¾‹ 1:
  è¾“å…¥: nums1 = [1,2,2,1], nums2 = [2,2]
  è¾“å‡º: [2,2]

- ç¤ºä¾‹ 2:
  è¾“å…¥: nums1 = [4,9,5], nums2 = [9,4,9,8,4]
  è¾“å‡º: [4,9]

è¯´æ˜ï¼š

- è¾“å‡ºç»“æœä¸­æ¯ä¸ªå…ƒç´ å‡ºç°çš„æ¬¡æ•°ï¼Œåº”ä¸å…ƒç´ åœ¨ä¸¤ä¸ªæ•°ç»„ä¸­å‡ºç°çš„æ¬¡æ•°ä¸€è‡´ã€‚
- æˆ‘ä»¬å¯ä»¥ä¸è€ƒè™‘è¾“å‡ºç»“æœçš„é¡ºåºã€‚

è§£é¢˜æ€è·¯

ç”±äºæ•°ç»„å†…å®¹çš„ä¸å®šæ€§ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨æ™®é€šæ“ä½œæ•´æ•°çš„æ–¹æ³•æ¥å¤„ç†è¿™ä¸ªæ–¹æ³•ï¼Œç”±æ­¤å¯ä»¥ä½¿ç”¨ Map ç»“æ„å¤„ç†
æ­¥éª¤å¦‚ä¸‹

1. åˆ¤æ–­ä¸¤ä¸ªæ•°ç»„çš„é•¿åº¦ï¼Œç”¨å¤§çš„å»å¾ªç¯å°çš„
2. å®šä¹‰ä¸€ä¸ª Mapï¼Œç”¨äºå°†å¤§æ•°ç»„è½¬æ¢ä¸º Mapï¼ŒMap çš„ key ä¸ºæ•°ç»„çš„å€¼ï¼Œvalue ä¸ºè¯¥å€¼åœ¨æ•°ç»„ä¸­å‡ºç°çš„æ¬¡æ•°
3. å¾ªç¯å¤§æ•°ç»„ï¼Œåˆ¤æ–­å…ƒç´ åœ¨ Map ä¸­æ˜¯å¦å·²å­˜åœ¨ï¼Œå¦‚æœå·²å­˜åœ¨ï¼Œvalue+1, å¦‚æœä¸å­˜åœ¨åˆ™è®¾ value ä¸º 1
4. å¾ªç¯å°æ•°ç»„ï¼Œå¦‚æœå°æ•°ç»„çš„å€¼åœ¨ Map ä¸­å­˜åœ¨å¹¶ä¸” value ä¸ä¸º 0ï¼Œåˆ™å°†å€¼ push è¿›ä¸€ä¸ªæ–°æ•°ç»„ï¼ŒåŒæ—¶å°† Map ä¸­çš„è¿™ä¸ªå€¼çš„ value-1
5. å¾—åˆ°çš„å°æ•°ç»„å°±æ˜¯æ•°ç»„çš„äº¤é›†ã€‚

ä»£ç å®ç°å¦‚ä¸‹ï¼š

```js
const intersect = (nums1, nums2) => {
  let nums3 = [];
  if (nums1.length > nums2.length) [nums1, nums2] = [nums2, nums1]; // äº¤æ¢æ•°ç»„
  let map2 = new Map();
  for (let i = 0; i < nums2.length; i++) {
    if (map2.has(nums2[i])) {
      map2.set(nums2[i], map2.get(nums2[i]) + 1);
    } else {
      map2.set(nums2[i], 1);
    }
  }

  for (let j = 0; j < nums1.length; j++) {
    if (map2.has(nums1[j]) && map2.get(nums1[j]) > 0) {
      nums3.push(nums1[j]);
      map2.set(nums1[j], map2.get(nums1[j]) - 1);
    }
  }
  return nums3;
};
```

## é—®é¢˜äºŒï¼šä¸¤æ•°ä¹‹å’Œ

ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums å’Œä¸€ä¸ªç›®æ ‡å€¼ targetï¼Œåœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡ºå’Œä¸ºç›®æ ‡å€¼çš„é‚£ä¸¤ä¸ªæ•´æ•°ï¼Œå¹¶è¿”å›ä»–ä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚

å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆï¼Œä½†æ˜¯ä¸èƒ½é‡å¤åˆ©ç”¨è¿™ä¸ªæ•°ç»„ä¸­åŒæ ·çš„å…ƒç´ ã€‚

ä¸¾ä¸ª ğŸŒ°ï¼š
ç»™å®š nums = [2, 7, 11, 15], target = 9
å› ä¸º nums[0] + nums[1] = 2 + 7 = 9
æ‰€ä»¥åº”è¯¥è¿”å› [0, 1]

ç¬¬ä¸€ç§æš´åŠ›ç ´è§£æ–¹æ³•ä»£ç å®ç°å¦‚ä¸‹ï¼š

```js
const twoSum = (nums, target) => {
  let index = [];
  for (let i = nums.length - 1; i > 0; i--) {
    for (let j = i - 1; j >= 0; j--) {
      if (nums[j] + nums[i] == target) {
        index.push(j);
        index.push(i);
        return index;
      }
    }
  }
};
```

å°±æ˜¯å¾ˆç®€å•çš„ä¸¤é‡å¾ªç¯æ•°ç»„ï¼Œä½†æ˜¯è¿™ç§æ–¹æ³•çš„å¤æ‚åº¦æ˜¯ n çš„å¹³æ–¹ï¼Œè§£ç­”è¿‡ç¨‹ä¹Ÿä¸å¤Ÿä¼˜é›…ï¼Œæ‰€ä»¥æƒ³äº†åŠå¤©å¯ä»¥ç”¨ç©ºé—´æ¢æ—¶é—´çš„æ€è·¯æ¥è§£å†³ã€‚
è§£æ³•äºŒï¼š

1. å®šä¹‰ä¸€ä¸ªæ–°çš„æ•°ç»„æˆ–å¯¹è±¡
2. åŒæ ·çš„å¾ªç¯åŸæ•°ç»„ï¼Œåœ¨å¾ªç¯çš„å†…éƒ¨å°† ç›®æ ‡å€¼ - å½“å‰å¾ªç¯çš„å€¼ = æ–°æ•°ç»„åœ¨å½“å‰ä¸‹æ ‡ä¸‹çš„å€¼
3. åœ¨å¾ªç¯ä¸­åŠ å…¥å‰ç½®æ¡ä»¶ï¼šå¦‚æœå½“å‰å¾ªç¯çš„å€¼ ç­‰äº æ–°æ•°ç»„ä¸‹æ ‡ä¸ºå½“å‰å¾ªç¯çš„å€¼å¹¶ä¸”å€¼ä¸ä¸ºç©ºæˆ– undefined æ—¶ï¼Œå°±å¯ä»¥å¾—å‡ºç»“æœ

```js
const twoSum = (nums, target) => {
  let result = [];
  for (let i = 0; i < nums.length; i++) {
    if (typeof result[nums[i]] !== 'undefined') {
      return [result[nums[i]], i];
    }
    let data = target - nums[i];
    result[data] = i;
  }
};
```

è§£æ³•ä¸‰ï¼š
ä½¿ç”¨ map ç»“æ„ï¼Œå°† key è®¾ç½®ä¸ºå·®å€¼ï¼ˆtarget - å½“å‰å€¼ï¼‰ï¼Œvalue ä¸ºå¯¹åº”çš„å½“å‰å€¼çš„ä¸‹æ ‡
åœ¨å¾ªç¯æ•°ç»„çš„æ—¶å€™ï¼Œå…ˆåˆ¤æ–­å¦‚æœåœ¨ map å½“ä¸­å­˜åœ¨ key ä¸ºå½“å‰çš„å€¼çš„ valueï¼Œè¯´æ˜è¿™ä¸ª key å°±æ˜¯æˆ‘ä»¬å½“å‰å¾ªç¯çš„å€¼çš„äºç›®æ ‡å€¼çš„å·®å€¼ï¼Œåˆ™å¯ä»¥ç›´æ¥ return
è‹¥ä¸å­˜åœ¨ï¼Œåˆ™åœ¨ map ä¸­ setï¼ˆå·®å€¼ï¼Œå½“å‰å€¼ä¸‹æ ‡ï¼‰

è¿™ç§è§£æ³•å…¶å®æ€è·¯æ˜¯ç¬¬äºŒç§æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯ä½¿ç”¨çš„æ•°æ®ç»“æ„ä¸åŒ

```js
const twoSum = (nums, target) => {
  let map = new Map();
  for (let i = 0; i < nums.length; i++) {
    let x = target - nums[i];
    if (map.get(x) == undefined) {
      map.set(nums[i], i);
    } else {
      return [map.get(x), i];
    }
  }
};
```

## é—®é¢˜ä¸‰ï¼šæœ‰æ•ˆæ•°ç‹¬çŸ©é˜µ

é¢˜ç›®ï¼š
åˆ¤æ–­ä¸€ä¸ª 9x9 çš„æ•°ç‹¬æ˜¯å¦æœ‰æ•ˆã€‚åªéœ€è¦æ ¹æ®ä»¥ä¸‹è§„åˆ™ï¼ŒéªŒè¯å·²ç»å¡«å…¥çš„æ•°å­—æ˜¯å¦æœ‰æ•ˆå³å¯ã€‚

æ•°å­— 1-9 åœ¨æ¯ä¸€è¡Œåªèƒ½å‡ºç°ä¸€æ¬¡ã€‚
æ•°å­— 1-9 åœ¨æ¯ä¸€åˆ—åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚
æ•°å­— 1-9 åœ¨æ¯ä¸€ä¸ªä»¥ç²—å®çº¿åˆ†éš”çš„ 3x3 å®«å†…åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚

<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/ff/Sudoku-by-L2G-20050714.svg/250px-Sudoku-by-L2G-20050714.svg.png" width="300"/>

æ•°ç‹¬éƒ¨åˆ†ç©ºæ ¼å†…å·²å¡«å…¥äº†æ•°å­—ï¼Œç©ºç™½æ ¼ç”¨ '.' è¡¨ç¤ºã€‚

æ³¨æ„ï¼š
ä¸€ä¸ªæœ‰æ•ˆçš„æ•°ç‹¬ï¼ˆéƒ¨åˆ†å·²è¢«å¡«å……ï¼‰ä¸ä¸€å®šæ˜¯å¯è§£çš„ã€‚
åªéœ€è¦æ ¹æ®ä»¥ä¸Šè§„åˆ™ï¼ŒéªŒè¯å·²ç»å¡«å…¥çš„æ•°å­—æ˜¯å¦æœ‰æ•ˆå³å¯ã€‚
ç»™å®šæ•°ç‹¬åºåˆ—åªåŒ…å«æ•°å­— 1-9 å’Œå­—ç¬¦ '.' ã€‚
ç»™å®šæ•°ç‹¬æ°¸è¿œæ˜¯ 9x9 å½¢å¼çš„ã€‚

æ€è·¯ï¼šè¿™ä¸ªé¢˜ç›®ä¹ä¸€çœ‹æŒºç®€å•ï¼Œæš´åŠ›ç ´è§£çš„è¯ä¾æ¬¡å¾ªç¯å‡º 3 ç§æ¡ä»¶ä¸‹æ˜¯å¦æœ‰é‡å¤çš„å°±å¥½ï¼Œæ‰€ä»¥æœ€ç®€å•çš„ç¬¬ä¸€ç§è§£æ³•å¦‚ä¸‹æ‰€ç¤º

```js
//   æ£€æŸ¥æ¯ä¸€è¡Œ
for (let arr of board) {
  let rowSet = new Set();
  for (let c of arr) {
    if (c !== '.' && rowSet.has(c)) {
      return false;
    } else {
      rowSet.add(c);
    }
  }
}

//   æ£€æŸ¥æ¯ä¸€åˆ—
for (let i = 0; i < 9; i++) {
  let col = [];
  board.map(arr => {
    if (arr[i] !== '.') col.push(arr[i]);
  });
  let set = new Set(col);
  if (set.size !== col.length) return false;
}

//   æ£€æŸ¥3*3
for (let x = 0; x < 9; x += 3) {
  for (let y = 0; y < 9; y += 3) {
    let box = [];
    for (let a = x; a < 3 + x; a++) {
      for (let b = y; b < 3 + y; b++) {
        if (board[a][b] !== '.') box.push(board[a][b]);
      }
    }
    let set = new Set(box);
    if (set.size !== box.length) return false;
  }
}

return true;
```

ä»¥ä¸Šæ–¹æ³•è™½ç„¶å¯ä»¥æ²¡æœ‰é”™è¯¯çš„åˆ¤æ–­è¿™ä¸ªæ•°ç‹¬çŸ©é˜µæ˜¯å¦æœ‰æ•ˆï¼Œä½†æ˜¯å¤ªè¿‡äºç²—æš´ï¼Œæ‰€ä»¥æ€è€ƒäº†å¾ˆä¹…ä¹‹åæˆ‘å¾—å‡ºäº†ä¸‹é¢ä¸€ç§è§£æ³•ï¼Œåªéœ€è¦ä¸€ä¸ªåŒå±‚å¾ªç¯å°±èƒ½å¾—å‡ºç­”æ¡ˆï¼Œéå¸¸å·§å¦™

åŸºæœ¬æ€è·¯å¦‚ä¸‹ï¼š
åœ¨å¾ªç¯è¿™ä¸ª 9x9 çš„äºŒç»´æ•°ç»„æ—¶ï¼Œå‡è®¾å¾ªç¯çš„è¡Œæ•°ç»„ä¸‹æ ‡ä¸º arr[i][j]ï¼Œé‚£ä¹ˆåœ¨å¾ªç¯è¡Œæ•°ç»„çš„åŒäº‹ï¼Œæ ¹æ®è¡Œåˆ—ç´¢å¼•ç›¸åçš„è§„å¾‹ï¼Œé‚£ä¹ˆåˆ—æ•°ç»„å¯ä»¥é€šè¿‡ arr[j][i] è¿™ç§è§„å¾‹æ¥åˆ¤æ–­è¿›è¡Œ set å­˜å€¼

æ¯”å¦‚è¯´åœ¨å¾ªç¯åˆ°ç¬¬ä¸€è¡Œçš„æ•°ç»„æ—¶ï¼Œç´¢å¼•å€¼ä¾æ¬¡ä¸º
```js
[0, 0],[0, 1],[0, 2],[0, 3] ... [0, 7],[0, 8]; // è¡Œ
```
é‚£ä¹ˆè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥åŒæ—¶å¾—å‡ºåˆ—æ•°ç»„çš„ç´¢å¼•
```js
[0, 0],[1, 0],[2, 0],[3, 0] ... [7, 0],[8, 0]; // è¡Œ
```

åŒæ—¶ï¼Œ3x3 çš„æ•°ç»„ä¹Ÿå¯ä»¥é€šè¿‡æ‰¾åˆ°æŸç§ç‰¹å®šçš„ä¸æ¨ªå‘æ•°ç»„å¯¹åº”çš„è§„å¾‹æ¥ç»„åˆåˆ¤æ–­ï¼ˆè¿‡ç¨‹æ¯”è¾ƒå¤æ‚ï¼Œè‡ªè¡Œæ¨æ–­ï¼‰
```js
let x = parseInt(i / 3) * 3 + parseInt(j / 3);
let y = 3 * (i % 3) + (j % 3);
```
å…¶ä¸­ï¼Œæ•°ç»„çš„æ˜¯å¦é‡å¤å¯ä»¥é€šè¿‡ set ç»“æ„æ¥åˆ¤æ–­ï¼š
å…·ä½“å®ç°å¦‚ä¸‹

```js
for (let i = 0; i < board.length; i++) {
  let set1 = new Set();
  let set2 = new Set();
  let set3 = new Set();
  for (let j = 0; j < board[i].length; j++) {

    //  3*3æ—¶è¦ç”¨åˆ°çš„å…¬å¼
    let x = parseInt(i / 3) * 3 + parseInt(j / 3);
    let y = 3 * (i % 3) + (j % 3);

    // è¡Œé‡å¤
    if (board[i][j] !== '.' && set1.has(board[i][j])) {
      return false;
    } else {
      set1.add(board[i][j]);
    }
    // åˆ—é‡å¤
    if (board[j][i] !== '.' && set2.has(board[j][i])) {
      return false;
    } else {
      set2.add(board[j][i]);
    }
    // 3*3é‡å¤
    if (board[x][y] !== '.' && set3.has(board[x][y])) {
      return false;
    } else {
      set3.add(board[x][y]);
    }

    if (+i === 8 && +j === 8) {
      return true;
    }
  }
}
```

ç”±ä¸Šå¯ä»¥çœ‹å‡ºï¼Œè§£æ³•äºŒçš„ç®—æ³•å¤æ‚åº¦ç›¸æ¯”è¾ƒäºç¬¬ä¸€ç§è¦å¤§å¤§å‡ä½ï¼Œè§£å†³æ–¹æ³•ä¹Ÿæ˜¯æ›´åŠ ä¼˜é›…ï½

è¿™å‡ ä¸ªé¢˜ç›®å½“ä¸­çš„è§£é¢˜æ€è·¯ä¸ªäººè§‰å¾—æ˜¯æ¯”è¾ƒå…¸å‹çš„ï¼Œå……åˆ†åˆ©ç”¨äº† map / set ç­‰æ•°æ®ç»“æ„æ¥è§£å†³ï¼Œå¸Œæœ›è¿™äº›é—®é¢˜å¯ä»¥ä¸ºä¹‹åå¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°çš„æ–°é—®é¢˜æœ‰ä¸€ç‚¹è§£å†³çµæ„Ÿï½ï½
